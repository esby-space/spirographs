---
import Layout from "./layout.astro";
import Nav from "./nav.astro";
import Footer from "./footer.astro";

const page = Astro.props.frontmatter;
---

<Layout title={page.title}>
    <article>
        <slot />
        <Footer chapter={page.chapter} />
    </article>
    <Nav />
</Layout>

<style is:global>
    .math-display {
        display: grid;
        place-content: center;
    }

    img {
        width: 100%;
        display: block;
    }

    /* hint thingies */
    details {
        margin-block: 1rem;
        padding: 1rem 1rem 0;
        outline: 1px solid pink;
        border-radius: 1rem;
    }

    summary {
        margin: -1rem -1rem 0;
        padding: 1rem;
        border-radius: 1rem;
        cursor: pointer;
        background-color: pink;
        font-weight: bold;
    }

    details[open] {
        padding: 1rem;
    }

    details[open] summary {
        border-bottom: 1px solid pink;
    }

    details p {
        height: 0;
    }

    /* section numbering */
    article h1 {
        counter-reset: h2Counter;
    }

    article h2::before {
        content: counter(h2Counter) ". ";
        counter-increment: h2Counter;
    }

    main h2 {
        counter-reset: h3Counter;
    }

    main h3::before {
        content: counter(h2Counter) "." counter(h3Counter) ". ";
        counter-increment: h3Counter;
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        align-items: center;
        justify-items: center;
    }
</style>
